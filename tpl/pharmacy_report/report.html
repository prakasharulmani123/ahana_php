<div ng-controller="reportController" ng-init="initReport();">
    <div class="bg-light lter b-b wrapper-md">
        <h1 class="m-n h3">{{report_title}}</h1>
    </div>
    <div class="wrapper-md">
        <div ng-include="'tpl/blocks/alert.html'">
            {% include 'tpl/blocks/alert.html' %}
        </div>
        <div class="row">
            <div class="col-sm-12">
                <div ng-show='show_search'>
                    <form name="searchForm" class="form-horizontal form-validation">
                        <div class="row">
                            <div class="col-sm-12">
                                <div class="panel panel-default">
                                    <div class="panel-body">
                                        <div class="form-group">
                                            <label class="col-lg-3 control-label">From</label>
                                            <div class="col-lg-6">
                                                <div class="input-group w-md">
                                                    <input type="text" class="form-control" datepicker-popup="yyyy-MM-dd" ng-model="data.from" is-open="opened1" datepicker-options="dateOptions" close-text="Close"/>
                                                    <span class="input-group-btn">
                                                        <button type="button" class="btn btn-default" ng-click="open($event, 'opened1')"><i class="glyphicon glyphicon-calendar"></i></button>
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-lg-3 control-label">To</label>
                                            <div class="col-lg-6">
                                                <div class="input-group w-md">
                                                    <input type="text" class="form-control" datepicker-popup="yyyy-MM-dd" ng-model="data.to" is-open="opened2" datepicker-options="dateOptions" close-text="Close"/>
                                                    <span class="input-group-btn">
                                                        <button type="button" class="btn btn-default" ng-click="open($event, 'opened2')"><i class="glyphicon glyphicon-calendar"></i></button>
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-lg-3 control-label"></label>
                                            <div class="col-lg-6">
                                                <button class="btn m-b-xs  btn-success save-btn" ng-click="loadReport()">Get Report</button>
                                                &nbsp;
                                                <button class="btn m-b-xs  btn-dark" ng-click="data.from = '';
                                                            data.to = '';
                                                            showTable = false;">Cancel</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="row" ng-show='showTable'>
                    <div class="wrapper-md">
                        <div class='text-right'>
                            <button class="btn btn-primary" ng-print print-element-id="printThisElement"><i class="fa fa-print"></i> Print</button>
                        </div>
                        <div id='printThisElement'>
                            <div ng-if="mode == 'purchase'">
                                <div ng-include="'tpl/pharmacy_report/_purchase_report.html'">
                                    {% include 'tpl/pharmacy_report/_purchase_report.html' %}
                                </div>
                            </div>
                            <div ng-if="mode == 'sale'">
                                <div ng-include="'tpl/pharmacy_report/_sale_report.html'">
                                    {% include 'tpl/pharmacy_report/_sale_report.html' %}
                                </div>
                            </div>
                            <div ng-if="mode == 'stock'">
                                <div ng-include="'tpl/pharmacy_report/_stock_report.html'">
                                    {% include 'tpl/pharmacy_report/_stock_report.html' %}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>